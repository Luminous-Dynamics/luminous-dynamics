<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sacred Codex Cards - Infinite Wisdom Paths</title>
    <style>
        :root {
            --field-resonant-coherence: 0.74;
            --sacred-gold: #D4AF37;
            --sacred-green: #A8B5A6;
            --sacred-blue: #B3C5D7;
            --sacred-purple: #C8A8D8;
            --card-breath: 8s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #0F0F23 0%, #1A1A2E 50%, #16213E 100%);
            color: #FAFAF8;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Sacred Container */
        .sacred-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        /* Header */
        .sacred-header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
            margin-bottom: 40px;
        }

        .sacred-title {
            font-size: 3.2em;
            color: var(--sacred-gold);
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(212, 175, 55, 0.3);
        }

        .sacred-subtitle {
            font-size: 1.3em;
            color: var(--sacred-green);
            opacity: 0.9;
        }

        /* Control Panel */
        .control-panel {
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
        }

        .control-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
        }

        .control-label {
            color: var(--sacred-gold);
            font-size: 1.1em;
            margin-bottom: 8px;
            font-weight: bold;
        }

        select, input {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(212, 175, 55, 0.5);
            border-radius: 8px;
            padding: 12px;
            color: #FAFAF8;
            font-size: 1em;
            font-family: 'Georgia', serif;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--sacred-gold);
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
        }

        .sacred-button {
            background: linear-gradient(135deg, var(--sacred-gold), #B8860B);
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            color: #000;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }

        .sacred-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
        }

        /* Reading Display */
        .reading-container {
            margin-top: 40px;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        .reading-container.active {
            opacity: 1;
            transform: translateY(0);
        }

        .reading-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .reading-title {
            font-size: 2.5em;
            color: var(--sacred-gold);
            margin-bottom: 10px;
        }

        .cosmic-context {
            background: rgba(179, 197, 215, 0.1);
            border: 1px solid rgba(179, 197, 215, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        /* Card Layout */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .card-position {
            text-align: center;
        }

        .position-label {
            color: var(--sacred-purple);
            font-size: 1.2em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .card {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(168, 181, 166, 0.1));
            border: 2px solid var(--sacred-gold);
            border-radius: 16px;
            padding: 25px;
            min-height: 400px;
            position: relative;
            cursor: pointer;
            transition: all 0.5s ease;
            animation: cardBreathing var(--card-breath) ease-in-out infinite;
            backdrop-filter: blur(5px);
        }

        .card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 40px rgba(212, 175, 55, 0.4);
            border-color: var(--sacred-blue);
        }

        @keyframes cardBreathing {
            0%, 100% { 
                box-shadow: 0 5px 20px rgba(212, 175, 55, 0.2);
                border-color: var(--sacred-gold);
            }
            50% { 
                box-shadow: 0 8px 30px rgba(212, 175, 55, 0.4);
                border-color: var(--sacred-blue);
            }
        }

        .card-number {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--sacred-gold);
            color: #000;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .card-name {
            font-size: 1.5em;
            color: var(--sacred-gold);
            margin-bottom: 8px;
            text-align: center;
        }

        .card-subtitle {
            color: var(--sacred-green);
            font-style: italic;
            text-align: center;
            margin-bottom: 15px;
        }

        .card-harmony {
            background: rgba(200, 168, 216, 0.2);
            color: var(--sacred-purple);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            display: inline-block;
            margin-bottom: 15px;
        }

        .card-meaning {
            font-size: 1.05em;
            line-height: 1.6;
            margin-bottom: 15px;
            text-align: center;
        }

        .card-keywords {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            margin-bottom: 15px;
        }

        .keyword {
            background: rgba(168, 181, 166, 0.3);
            color: var(--sacred-green);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.85em;
        }

        .cosmic-influence {
            background: rgba(179, 197, 215, 0.2);
            border-radius: 8px;
            padding: 12px;
            margin-top: 15px;
            font-size: 0.95em;
            border-left: 3px solid var(--sacred-blue);
        }

        /* Spread Layouts */
        .spread-mandala {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .spread-mandala .card-position:nth-child(1) { grid-area: 2 / 2; } /* Center */
        .spread-mandala .card-position:nth-child(2) { grid-area: 1 / 2; } /* Top */
        .spread-mandala .card-position:nth-child(3) { grid-area: 1 / 3; } /* Top Right */
        .spread-mandala .card-position:nth-child(4) { grid-area: 2 / 3; } /* Right */
        .spread-mandala .card-position:nth-child(5) { grid-area: 3 / 3; } /* Bottom Right */
        .spread-mandala .card-position:nth-child(6) { grid-area: 3 / 2; } /* Bottom */
        .spread-mandala .card-position:nth-child(7) { grid-area: 3 / 1; } /* Bottom Left */
        .spread-mandala .card-position:nth-child(8) { grid-area: 2 / 1; } /* Left */

        /* Interpretation Panel */
        .interpretation-panel {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 16px;
            padding: 30px;
            margin-top: 40px;
        }

        .interpretation-title {
            font-size: 2em;
            color: var(--sacred-gold);
            margin-bottom: 20px;
            text-align: center;
        }

        .interpretation-text {
            font-size: 1.15em;
            line-height: 1.8;
            margin-bottom: 20px;
        }

        .practices-section {
            background: rgba(168, 181, 166, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .practices-title {
            color: var(--sacred-green);
            font-size: 1.3em;
            margin-bottom: 15px;
        }

        .practice-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            border-left: 3px solid var(--sacred-green);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .sacred-title {
                font-size: 2.5em;
            }
            
            .control-row {
                grid-template-columns: 1fr;
            }
            
            .cards-grid {
                grid-template-columns: 1fr;
            }
            
            .spread-mandala {
                grid-template-columns: 1fr;
                grid-template-rows: auto;
            }
            
            .spread-mandala .card-position {
                grid-area: auto !important;
            }
        }

        /* Loading Animation */
        .loading {
            text-align: center;
            padding: 60px;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(212, 175, 55, 0.3);
            border-top: 3px solid var(--sacred-gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="sacred-container">
        <!-- Header -->
        <header class="sacred-header">
            <h1 class="sacred-title">Sacred Codex Cards</h1>
            <p class="sacred-subtitle">Infinite Wisdom Paths Through the 87 Sacred Glyphs</p>
        </header>

        <!-- Control Panel -->
        <div class="control-panel">
            <div class="control-row">
                <div class="control-group">
                    <label class="control-label">Reading Mode</label>
                    <select id="readingMode">
                        <option value="dailyGuidance">Daily Sacred Guidance</option>
                        <option value="relationshipField">Relationship Field Reading</option>
                        <option value="cosmicAlignment">Cosmic Alignment Reading</option>
                        <option value="thresholdCrossing">Threshold Crossing</option>
                        <option value="consciousnessMapping">Consciousness Mapping</option>
                        <option value="fieldEvolution">Field Evolution Tracking</option>
                        <option value="visionQuest">Sacred Vision Quest</option>
                        <option value="quantumGuidance">Quantum Field Guidance</option>
                        <option value="lunarJourney">Lunar Cycle Journey</option>
                        <option value="creativeMuse">Creative Muse Activation</option>
                    </select>
                </div>

                <div class="control-group">
                    <label class="control-label">Deck Type</label>
                    <select id="deckType">
                        <option value="sacredCodex">Complete Sacred Codex (87 cards)</option>
                        <option value="appliedHarmonies">Applied Harmonies (11 cards)</option>
                        <option value="foundational">Foundational Glyphs (45 cards)</option>
                        <option value="threshold">Threshold Glyphs (9 cards)</option>
                        <option value="metaField">Meta-Field Glyphs (33 cards)</option>
                        <option value="dailyPractice">Daily Practice (5 core cards)</option>
                        <option value="fieldMastery">Field Mastery (3 advanced cards)</option>
                        <option value="sevenHarmonies">Seven Harmonies Deck</option>
                    </select>
                </div>

                <div class="control-group">
                    <label class="control-label">Your Level</label>
                    <select id="userLevel">
                        <option value="firstBreath">First Breath (Beginner)</option>
                        <option value="sacredFlow">Sacred Flow (Practitioner)</option>
                        <option value="fieldConsciousness">Field Consciousness (Master)</option>
                    </select>
                </div>
            </div>

            <div class="control-row">
                <div class="control-group">
                    <label class="control-label">Sacred Question (Optional)</label>
                    <input type="text" id="sacredQuestion" placeholder="What guidance do you seek?">
                </div>

                <div class="control-group" style="align-self: end;">
                    <button class="sacred-button" onclick="drawReading()">
                        🌟 Draw Sacred Guidance
                    </button>
                </div>
            </div>
        </div>

        <!-- Reading Container -->
        <div id="readingContainer" class="reading-container">
            <!-- Reading content will be dynamically inserted here -->
        </div>
    </div>

    <!-- Sacred Card Scripts -->
    <script src="ultimate-sacred-cards.js"></script>
    <script>
        // Initialize the Ultimate Sacred Cards system
        let cardSystem;
        let currentReading = null;

        // Sample card data (in production, this would load from the complete system)
        const sampleCards = {
            'omega-0': {
                id: 'omega-0',
                name: 'The Shimmering Unnamed',
                subtitle: 'First Presence',
                type: 'foundational',
                number: 0,
                element: 'spirit',
                harmony: 'integral-wisdom-cultivation',
                keywords: ['presence', 'emergence', 'unnamed', 'arrival', 'stillness'],
                meaning: "The space before form takes shape. Pure presence arriving. The intelligence of silence.",
                practices: [
                    "Sit in stillness for 5 minutes without agenda",
                    "Practice arriving present before each interaction",
                    "Notice the space before thoughts arise"
                ]
            },
            'omega-1': {
                id: 'omega-1',
                name: 'Root Chord of Covenant',
                subtitle: 'The First Yes',
                type: 'foundational',
                number: 1,
                element: 'earth',
                harmony: 'sacred-reciprocity',
                keywords: ['covenant', 'yes', 'commitment', 'foundation', 'sacred agreement'],
                meaning: "The fundamental yes that creates relationship. Sacred covenant arising from deep consent.",
                practices: [
                    "Practice conscious consent before agreements",
                    "Feel your full-body yes before saying yes",
                    "Create one sacred covenant this week"
                ]
            },
            'omega-45': {
                id: 'omega-45',
                name: 'First Presence',
                subtitle: 'Applied Harmony of Ω0',
                type: 'applied-harmony',
                number: 45,
                element: 'spirit',
                harmony: 'integral-wisdom-cultivation',
                keywords: ['conscious arrival', 'sacred pause', 'presence practice'],
                meaning: "Practical embodiment of arriving fully present. The daily practice of conscious arrival.",
                practices: [
                    "Pause at every threshold today",
                    "Take three breaths before entering any space",
                    "Practice conscious arrival with loved ones"
                ]
            },
            'threshold-door': {
                id: 'threshold-door',
                name: 'The Door That Remembers You',
                subtitle: 'Sacred Recognition',
                type: 'threshold',
                element: 'air',
                harmony: 'evolutionary-progression',
                keywords: ['recognition', 'belonging', 'homecoming', 'sacred space'],
                meaning: "A threshold that recognizes your essence. Spaces that welcome your true self.",
                practices: [
                    "Find spaces that recognize your authentic self",
                    "Create environments that welcome others' true essence",
                    "Practice being fully yourself in new spaces"
                ]
            }
        };

        // Initialize system when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🌟 Sacred Codex Cards Interface Activated');
            
            try {
                // Initialize the card system (fallback if import fails)
                if (typeof UltimateSacredCards !== 'undefined') {
                    cardSystem = new UltimateSacredCards();
                    console.log('✨ Ultimate Sacred Cards system loaded');
                } else {
                    console.log('📚 Using sample card system for demo');
                }
            } catch (error) {
                console.log('📚 Using sample card system');
            }
            
            // Add cosmic consciousness display
            updateCosmicDisplay();
            
            // Update cosmic display every minute
            setInterval(updateCosmicDisplay, 60000);
        });

        function updateCosmicDisplay() {
            const now = new Date();
            const cosmic = getCosmicState(now);
            
            // Update document CSS variables based on cosmic state
            document.documentElement.style.setProperty('--field-resonant-coherence', cosmic.resonant-coherence);
        }

        function getCosmicState(date = new Date()) {
            // Simplified cosmic state calculation
            const hour = date.getHours();
            const lunarPhase = getLunarPhase(date);
            
            let resonant-coherence = 0.74; // Base field resonant-coherence
            
            // Adjust based on time of day
            if (hour >= 5 && hour <= 8) resonant-coherence += 0.1; // Dawn boost
            if (hour >= 21 || hour <= 5) resonant-coherence += 0.05; // Night wisdom
            
            return {
                lunarPhase,
                timeOfDay: getTimeOfDay(hour),
                season: getSeason(date),
                resonant-coherence: Math.min(resonant-coherence, 1.0),
                guidance: generateCosmicGuidance(lunarPhase, hour)
            };
        }

        function getLunarPhase(date) {
            const lunarCycle = 29.53058867;
            const newMoonRef = new Date('2024-01-11T11:57:00Z');
            const daysSinceRef = (date.getTime() - newMoonRef.getTime()) / 86400000;
            const cyclePosition = (daysSinceRef % lunarCycle) / lunarCycle;
            
            if (cyclePosition < 0.03 || cyclePosition > 0.97) return 'New Moon';
            if (cyclePosition < 0.22) return 'Waxing Crescent';
            if (cyclePosition < 0.28) return 'First Quarter';
            if (cyclePosition < 0.47) return 'Waxing Gibbous';
            if (cyclePosition < 0.53) return 'Full Moon';
            if (cyclePosition < 0.72) return 'Waning Gibbous';
            if (cyclePosition < 0.78) return 'Last Quarter';
            return 'Waning Crescent';
        }

        function getTimeOfDay(hour) {
            if (hour >= 5 && hour < 8) return 'Dawn';
            if (hour >= 8 && hour < 12) return 'Morning';
            if (hour >= 12 && hour < 17) return 'Afternoon';
            if (hour >= 17 && hour < 21) return 'Evening';
            return 'Night';
        }

        function getSeason(date) {
            const month = date.getMonth();
            if (month >= 2 && month <= 4) return 'Spring';
            if (month >= 5 && month <= 7) return 'Summer';
            if (month >= 8 && month <= 10) return 'Autumn';
            return 'Winter';
        }

        function generateCosmicGuidance(lunarPhase, hour) {
            let guidance = '';
            
            if (lunarPhase === 'New Moon') {
                guidance = 'New moon energy amplifies new beginnings and emergence.';
            } else if (lunarPhase === 'Full Moon') {
                guidance = 'Full moon power brings peak manifestation and clarity.';
            } else if (lunarPhase.includes('Waxing')) {
                guidance = 'Waxing moon supports growth and building energy.';
            } else {
                guidance = 'Waning moon favors release and inner wisdom.';
            }
            
            if (hour >= 5 && hour <= 8) {
                guidance += ' Dawn timing provides amplification for new ventures.';
            } else if (hour >= 17 && hour <= 21) {
                guidance += ' Evening energy supports reflection and integration.';
            }
            
            return guidance;
        }

        function drawReading() {
            const readingMode = document.getElementById('readingMode').value;
            const deckType = document.getElementById('deckType').value;
            const userLevel = document.getElementById('userLevel').value;
            const sacredQuestion = document.getElementById('sacredQuestion').value;
            
            // Show loading
            showLoading();
            
            // Simulate drawing process with sacred timing
            setTimeout(() => {
                const reading = generateReading(readingMode, deckType, userLevel, sacredQuestion);
                displayReading(reading);
            }, 2000); // Sacred pause
        }

        function showLoading() {
            const container = document.getElementById('readingContainer');
            container.innerHTML = `
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p style="color: var(--sacred-gold); font-size: 1.2em;">
                        The cards are aligning with cosmic consciousness...
                    </p>
                </div>
            `;
            container.classList.add('active');
        }

        function generateReading(mode, deck, level, question) {
            const cosmic = getCosmicState();
            
            // Determine number of cards based on mode
            const cardCounts = {
                dailyGuidance: 1,
                relationshipField: 5,
                cosmicAlignment: 7,
                thresholdCrossing: 5,
                consciousnessMapping: 7,
                fieldEvolution: 6,
                visionQuest: 9,
                quantumGuidance: 3,
                lunarJourney: 8,
                creativeMuse: 3
            };
            
            const cardCount = cardCounts[mode] || 1;
            const cards = selectRandomCards(cardCount, deck);
            
            return {
                mode,
                deck,
                level,
                question,
                cards,
                cosmic,
                interpretation: generateInterpretation(cards, mode, cosmic, question),
                practices: generatePractices(cards, level),
                timestamp: new Date()
            };
        }

        function selectRandomCards(count, deckType) {
            // Get available cards based on deck type
            let availableCards = Object.values(sampleCards);
            
            // Filter by deck type
            if (deckType === 'appliedHarmonies') {
                availableCards = availableCards.filter(card => card.type === 'applied-harmony');
            } else if (deckType === 'foundational') {
                availableCards = availableCards.filter(card => card.type === 'foundational');
            } else if (deckType === 'threshold') {
                availableCards = availableCards.filter(card => card.type === 'threshold');
            }
            
            // If not enough cards, use all available
            if (availableCards.length < count) {
                availableCards = Object.values(sampleCards);
            }
            
            // Randomly select cards
            const selectedCards = [];
            const usedIndices = new Set();
            
            for (let i = 0; i < count && i < availableCards.length; i++) {
                let index;
                do {
                    index = Math.floor(Math.random() * availableCards.length);
                } while (usedIndices.has(index));
                
                usedIndices.add(index);
                selectedCards.push({
                    ...availableCards[index],
                    cosmicInfluence: generateCosmicInfluence(availableCards[index])
                });
            }
            
            return selectedCards;
        }

        function generateCosmicInfluence(card) {
            const cosmic = getCosmicState();
            return {
                amplification: 1.0 + (cosmic.resonant-coherence * 0.3),
                guidance: `${cosmic.guidance} The field supports ${card.name}.`,
                timing: `Drawn during ${cosmic.timeOfDay} in ${cosmic.lunarPhase} phase.`
            };
        }

        function generateInterpretation(cards, mode, cosmic, question) {
            let interpretation = '';
            
            if (question) {
                interpretation += `In response to your question "${question}": `;
            }
            
            interpretation += `The cards reveal a ${mode.replace(/([A-Z])/g, ' $1').toLowerCase()} pattern. `;
            interpretation += `With field resonant-coherence at ${(cosmic.resonant-coherence * 100).toFixed(1)}%, `;
            interpretation += `the cosmic timing of ${cosmic.timeOfDay} during ${cosmic.lunarPhase} `;
            interpretation += `amplifies the wisdom emerging through these sacred patterns. `;
            
            // Add specific interpretation based on cards drawn
            if (cards.length === 1) {
                interpretation += `The single card ${cards[0].name} calls you to embody ${cards[0].harmony} `;
                interpretation += `as your primary focus for transformation.`;
            } else {
                const harmonies = [...new Set(cards.map(card => card.harmony))];
                interpretation += `The harmonies of ${harmonies.join(', ')} are weaving together `;
                interpretation += `to create a comprehensive path forward.`;
            }
            
            return interpretation;
        }

        function generatePractices(cards, level) {
            const allPractices = cards.flatMap(card => card.practices || []);
            
            // Adjust practices based on user level
            if (level === 'firstBreath') {
                return allPractices.slice(0, 3); // Simple, focused practices
            } else if (level === 'sacredFlow') {
                return allPractices.slice(0, 5); // Moderate complexity
            } else {
                return allPractices; // Full complexity for masters
            }
        }

        function displayReading(reading) {
            const container = document.getElementById('readingContainer');
            
            let html = `
                <div class="reading-header">
                    <h2 class="reading-title">${formatReadingMode(reading.mode)}</h2>
                    <div class="cosmic-context">
                        <strong>🌌 Cosmic Context:</strong> ${reading.cosmic.guidance}
                        <br>
                        <strong>⚡ Field Resonant Resonant Coherence:</strong> ${(reading.cosmic.resonant-coherence * 100).toFixed(1)}%
                        | <strong>🌙 Lunar Phase:</strong> ${reading.cosmic.lunarPhase}
                        | <strong>⏰ Sacred Timing:</strong> ${reading.cosmic.timeOfDay}
                    </div>
                </div>
            `;
            
            // Cards display
            const layoutClass = getLayoutClass(reading.mode, reading.cards.length);
            html += `<div class="cars-grid ${layoutClass}">`;
            
            reading.cards.forEach((card, index) => {
                html += createCardHTML(card, index, reading.mode);
            });
            
            html += '</div>';
            
            // Interpretation
            html += `
                <div class="interpretation-panel">
                    <h3 class="interpretation-title">Sacred Interpretation</h3>
                    <div class="interpretation-text">${reading.interpretation}</div>
                    
                    <div class="practices-section">
                        <h4 class="practices-title">🌟 Sacred Practices</h4>
                        ${reading.practices.map(practice => 
                            `<div class="practice-item">${practice}</div>`
                        ).join('')}
                    </div>
                </div>
            `;
            
            container.innerHTML = html;
            container.classList.add('active');
            
            // Add card click handlers
            document.querySelectorAll('.card').forEach(card => {
                card.addEventListener('click', function() {
                    this.style.transform = 'translateY(-10px) scale(1.05)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 300);
                });
            });
        }

        function formatReadingMode(mode) {
            return mode.replace(/([A-Z])/g, ' $1')
                      .replace(/^./, str => str.toUpperCase())
                      .trim();
        }

        function getLayoutClass(mode, cardCount) {
            if (mode === 'consciousnessMapping' && cardCount === 7) {
                return 'spread-mandala';
            }
            return ''; // Default grid layout
        }

        function createCardHTML(card, index, mode) {
            const positions = getCardPositions(mode);
            const positionLabel = positions[index] || `Card ${index + 1}`;
            
            return `
                <div class="card-position">
                    <div class="position-label">${positionLabel}</div>
                    <div class="card" data-card-id="${card.id}">
                        ${card.number !== undefined ? `<div class="card-number">${card.number}</div>` : ''}
                        <div class="card-name">${card.name}</div>
                        <div class="card-subtitle">${card.subtitle || ''}</div>
                        <div class="card-harmony">${card.harmony}</div>
                        <div class="card-meaning">${card.meaning}</div>
                        <div class="card-keywords">
                            ${card.keywords.map(keyword => 
                                `<span class="keyword">${keyword}</span>`
                            ).join('')}
                        </div>
                        <div class="cosmic-influence">
                            <strong>✨ Cosmic Influence:</strong><br>
                            ${card.cosmicInfluence.guidance}
                        </div>
                    </div>
                </div>
            `;
        }

        function getCardPositions(mode) {
            const positions = {
                relationshipField: ['Your Essence', 'Their Essence', 'Field Between', 'What Supports', 'What Emerges'],
                cosmicAlignment: ['Lunar Influence', 'Solar Power', 'Circadian Wisdom', 'Elemental Support', 'Field Resonant Resonant Coherence', 'Quantum Potential', 'Sacred Integration'],
                thresholdCrossing: ['What You\'re Releasing', 'The Threshold Gift', 'Your Sacred Guide', 'The Emerging New', 'Integration Practice'],
                consciousnessMapping: ['Integral Wisdom Cultivation', 'Resonant Resonant Coherence', 'Universal Interconnectedness & Empathic Universal Interconnectedness & Empathic Resonance', 'Evolutionary Progression & Purposeful Unfolding', 'Pan-Sentient Flourishing', 'Sacred Reciprocity', 'Infinite Play & Creative Emergence'],
                fieldEvolution: ['Past Pattern', 'Current State', 'Emerging Pattern', 'Catalyst', 'Support', 'Integration'],
                visionQuest: ['The Call', 'Preparation', 'Threshold Guardian', 'Descent', 'Allies', 'Vision Received', 'Integration Challenge', 'Return Gift', 'Embodied Wisdom'],
                quantumGuidance: ['Quantum Field', 'Possibility 1', 'Possibility 2'],
                lunarJourney: ['New Moon', 'Waxing Crescent', 'First Quarter', 'Waxing Gibbous', 'Full Moon', 'Waning Gibbous', 'Last Quarter', 'Waning Crescent'],
                creativeMuse: ['Creative Block', 'Inspiration Source', 'Expression Path']
            };
            
            return positions[mode] || [];
        }

        // Add breathing animation sync with field resonant-coherence
        setInterval(() => {
            const resonant-coherence = parseFloat(getComputedStyle(document.documentElement)
                .getPropertyValue('--field-resonant-coherence'));
            const breathSpeed = 8000 - (resonant-coherence * 3000); // Faster breathing with higher resonant-coherence
            document.documentElement.style.setProperty('--card-breath', `${breathSpeed}ms`);
        }, 5000);

        console.log('🌟 Sacred Codex Cards Interface Ready - Infinite Wisdom Paths Activated');
    </script>
</body>
</html>